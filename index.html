<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AuthsRNG Email Sender</title>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<style>
body { font-family: Arial, sans-serif; background: #f4f4f9; padding: 40px; }
.container { max-width: 900px; margin: auto; background: #fff; padding: 25px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
h2 { text-align: center; color: #0073e6; }
#editor { border:1px solid #ccc; padding:10px; min-height:200px; outline:none; font-size:15px; width:100%; overflow:auto; }
button.send { margin-top:20px; background:#0073e6; color:white; border:none; padding:12px 20px; border-radius:6px; cursor:pointer; font-size:16px; width:100%; }
button.send:hover { background:#005bb5; }
.status { margin-top:15px; text-align:center; font-size:14px; }
.preview-box { margin-top:25px; padding:20px; border-radius:8px; border:1px solid #ddd; background:#fafafa; }
.preview-header { font-weight:bold; margin-bottom:10px; text-align:center; color:#444; }
</style>
</head>
<body>

<div class="container">
<h2>üì¢ AuthsRNG Email Sender</h2>
<p>Type your text and paste images/videos directly into the editor below.</p>

<div id="editor" contenteditable="true" placeholder="Type your message here..."></div>

<div class="preview-box">
<div class="preview-header">üì© Live Preview</div>
<div id="preview_content"></div>
</div>

<button class="send" onclick="sendEmails()">Send Email</button>
<div class="status" id="status"></div>
</div>

<script>
// Initialize EmailJS
emailjs.init("pG6ucVR7zX2qahxvm");

// List of subscribers
const subscribers = [
  { name: "BVP Studios", email: "bvpstudios012@gmail.com" },
  { name: "ChefBoy", email: "chefboy-12@hotmail.com" }
];

// EmailJS service and template IDs
const serviceId = "service_h8c2z0w";
const templateId = "template_009nh11";

// Live preview function (optional)
const editor = document.getElementById("editor");
const preview = document.getElementById("preview_content");
editor.addEventListener("input", () => {
  preview.innerHTML = editor.innerHTML; // shows text/images/videos only
});

// Send emails to all subscribers
function sendEmails() {
  const content = editor.innerHTML.trim();
  const statusDiv = document.getElementById("status");

  if(!content){
    statusDiv.style.color="red";
    statusDiv.innerText="‚ö†Ô∏è Type a message or paste media first.";
    return;
  }

  statusDiv.style.color="black";
  statusDiv.innerText="‚è≥ Sending emails...";

  let success = 0, fail = 0;

  subscribers.forEach(sub => {
    const templateParams = {
      to_email: sub.email,
      name: sub.name,
      update_message: content // only content from editor
    };

    emailjs.send(serviceId, templateId, templateParams)
      .then(() => {
        success++;
        statusDiv.style.color="green";
        statusDiv.innerText=`‚úÖ Sent: ${success}, ‚ùå Failed: ${fail}`;
      })
      .catch(() => {
        fail++;
        statusDiv.style.color="red";
        statusDiv.innerText=`‚úÖ Sent: ${success}, ‚ùå Failed: ${fail}`;
      });
  });
}
</script>

</body>
</html>
